<body class="bg-white p-4 font-sans">
  <h1 class="text-xl font-bold mb-4 text-blue-600">Web2Figma.AI</h1>

  <input
    id="url"
    type="text"
    placeholder="Paste website URL"
    class="border p-2 rounded w-full mb-3"
  />

  <div class="flex gap-2 mb-3">
    <button
      id="submit"
      class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"
    >
      Load Website
    </button>

    <button
      id="loadSchema"
      class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"
    >
      Load Layout Schema
    </button>
  </div>

  <!-- ✅ Add this screenshot upload section below -->
  <div class="mb-4">
    <input
      id="screenshot"
      type="file"
      accept="image/*"
      class="block mb-2 border p-2 rounded w-full"
    />
    <button
      id="uploadScreenshot"
      class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded w-full"
    >
      Upload Screenshot
    </button>
  </div>
  <script>
    // Handle "Load Website" button
    document.getElementById("submit").onclick = () => {
      const url = document.getElementById("url").value;
      parent.postMessage({ pluginMessage: { type: "load-url", url } }, "*");
    };
  
    // Handle "Load Layout Schema" button
    document.getElementById("loadSchema").onclick = () => {
      parent.postMessage({ pluginMessage: { type: "load-schema" } }, "*");
    };
  
    // ✅ Handle "Upload Screenshot" button
    document.getElementById("uploadScreenshot").onclick = () => {
      const fileInput = document.getElementById("screenshot");
      const file = fileInput.files[0];
  
      if (!file) {
        alert("Please select a screenshot file first.");
        return;
      }
  
      const reader = new FileReader();
      reader.onload = () => {
        const base64 = reader.result;
        parent.postMessage(
          { pluginMessage: { type: "upload-screenshot", image: base64 } },
          "*"
        );
      };
      reader.readAsDataURL(file);
    };
  </script>
  